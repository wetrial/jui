/*!
 * artTemplate - Template Engine
 * https://github.com/aui/artTemplate
 * Released under the MIT, BSD, and GPL Licenses
 */
!function(){function it(n){return n.replace(b,"").replace(k,",").replace(d,"").replace(g,"").replace(nt,"").split(tt)}function c(n){return"'"+n.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function rt(n,t){function k(n){return e+=n.split(/\n/).length-1,nt&&(n=n.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),n&&(n=r[1]+c(n)+r[2]+"\n"),n}function et(n){var c=e,s,u;return a?n=a(n,t):f&&(n=n.replace(/\n/g,function(){return e++,"$line="+e+";"})),n.indexOf("=")===0&&(s=tt&&!/^=[=#]/.test(n),n=n.replace(/^=[=#]?|[\s;]*$/g,""),s?(u=n.replace(/\s*\([^\)]+\)/,""),i[u]||/^(include|print)$/.test(u)||(n="$escape("+n+")")):n="$string("+n+")",n=r[1]+n+r[2]),f&&(n="$line="+c+";"+n),h(it(n),function(n){if(n&&!v[n]){var t;t=n==="print"?rt:n==="include"?ut:i[n]?"$utils."+n:o[n]?"$helpers."+n:"$data."+n;w+=n+"="+t+",";v[n]=!0}}),n+"\n"}var f=t.debug,d=t.openTag,g=t.closeTag,a=t.parser,nt=t.compress,tt=t.escape,e=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},y="".trim,r=y?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],p=y?"$out+=text;return $out;":"$out.push(text);",rt="function(){var text=''.concat.apply('',arguments);"+p+"}",ut="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+p+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(f?"$line=0,":""),s=r[0],ft="return new String("+r[3]+");",u,l;h(n.split(d),function(n){n=n.split(g);var t=n[0],i=n[1];n.length===1?s+=k(t):(s+=et(t),i&&(s+=k(i)))});u=w+s+ft;f&&(u="try{"+u+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+c(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{return l=new Function("$data","$filename",u),l.prototype=i,l}catch(b){b.temp="function anonymous($data,$filename) {"+u+"}";throw b;}}var n=function(n,t){return typeof t=="string"?u(t,{filename:n}):f(n,t)},t,r,f,o,l;n.version="3.0.0";n.config=function(n,i){t[n]=i};t=n.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null};r=n.cache={};n.render=function(n,t){return u(n,t)};f=n.renderFile=function(t,i){var r=n.get(t)||s({filename:t,name:"Render Error",message:"Template not found"});return i?r(i):r};n.get=function(n){var i,t,f;return r[n]?i=r[n]:typeof document=="object"&&(t=document.getElementById(n),t&&(f=(t.value||t.innerHTML).replace(/^\s*|\s*$/g,""),i=u(f,{filename:n}))),i};var e=function(n,t){return typeof n!="string"&&(t=typeof n,t==="number"?n+="":n=t==="function"?e(n.call(n)):""),n},a={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},v=function(n){return a[n]},y=function(n){return e(n).replace(/&(?![\w#]+;)|[<>"']/g,v)},p=Array.isArray||function(n){return{}.toString.call(n)==="[object Array]"},w=function(n,t){var i,r;if(p(n))for(i=0,r=n.length;i<r;i++)t.call(n,n[i],i,n);else for(i in n)t.call(n,n[i],i)},i=n.utils={$helpers:{},$include:f,$string:e,$escape:y,$each:w};n.helper=function(n,t){o[n]=t};o=n.helpers=i.$helpers;n.onerror=function(n){var t="Template Error\n\n";for(var i in n)t+="<"+i+">\n"+n[i]+"\n\n";typeof console=="object"&&console.error(t)};var s=function(t){n.onerror(t);return function(){return"{Template Error}"}},u=n.compile=function(n,i){function h(t){try{return new o(t,f)+""}catch(r){return i.debug?s(r)():(i.debug=!0,u(n,i)(t))}}var e,f,o;i=i||{};for(e in t)i[e]===undefined&&(i[e]=t[e]);f=i.filename;try{o=rt(n,i)}catch(c){return c.filename=f||"anonymous",c.name="Syntax Error",s(c)}return h.prototype=o.prototype,h.toString=function(){return o.toString()},f&&i.cache&&(r[f]=h),h},h=i.$each,b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,k=/[^\w$]+/g,d=new RegExp(["\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),g=/^\d[^,]*|,\d[^,]*/g,nt=/^,+|,+$/g,tt=/^$|,+/;t.openTag="{{";t.closeTag="}}";l=function(n,t){var r=t.split(":"),u=r.shift(),i=r.join(":")||"";return i&&(i=", "+i),"$helpers."+u+"("+n+i+")"};t.parser=function(t){var e;t=t.replace(/^\s/,"");var i=t.split(" "),r=i.shift(),f=i.join(" ");switch(r){case"if":t="if("+f+"){";break;case"else":i=i.shift()==="if"?" if("+i.join(" ")+")":"";t="}else"+i+"{";break;case"/if":t="}";break;case"each":var h=i[0]||"$data",c=i[1]||"as",a=i[2]||"$value",v=i[3]||"$index",y=a+","+v;c!=="as"&&(h="[]");t="$each("+h+",function("+y+"){";break;case"/each":t="});";break;case"echo":t="print("+f+");";break;case"print":case"include":t=r+"("+i.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(f)){e=!0;t.indexOf("#")===0&&(t=t.substr(1),e=!1);for(var u=0,o=t.split("|"),p=o.length,s=o[u++];u<p;u++)s=l(s,o[u]);t=(e?"=":"=#")+s}else t=n.helpers[r]?"=#"+r+"("+i.join(",")+");":"="+t}return t};typeof define=="function"?define(function(){return n}):typeof exports!="undefined"?module.exports=n:this.template=n}();
//# sourceMappingURL=template.min.js.map
